
<div class="p-6 bg-gray-100 min-h-screen overflow-x-hidden">
  <!-- Header -->
  <div class="mb-6 mx-2 lg:mx-6">
    <div class="shadow-2xl rounded-2xl overflow-hidden border-2"
         [ngClass]="isOsws ? 'bg-[#14532d] border-[#14532d]' : 'bg-[#679436] border-[#679436]'">
      <div class="px-6 py-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0 border-2 border-white/30">
            <i class="fas fa-clipboard-list text-white text-lg"></i>
          </div>
          <div>
            <h1 class="text-lg sm:text-xl font-bold text-white">Attendance Records</h1>
            <p class="text-white/80 text-sm mt-0.5">View and manage event attendance</p>
          </div>
        </div>
        <!-- Status legend -->
        <div class="bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 px-4 py-2 text-xs">
          <div class="flex flex-wrap items-center gap-x-4 gap-y-1 text-white">
            <span class="inline-flex items-center gap-1">
              <span class="relative inline-flex rounded-full h-3 w-3 bg-yellow-400 border border-yellow-500"></span>
              <span>Not Yet Started</span>
            </span>
            <span class="inline-flex items-center gap-1">
              <span class="relative flex h-3 w-3">
                <span class="absolute inline-flex h-full w-full rounded-full opacity-60 animate-ping bg-blue-400"></span>
                <span class="relative inline-flex rounded-full h-3 w-3 bg-blue-500 border border-blue-600"></span>
              </span>
              <span>Ongoing</span>
            </span>
            <span class="inline-flex items-center gap-1">
              <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500 border border-green-600"></span>
              <span>Concluded</span>
            </span>
            <span class="inline-flex items-center gap-1">
              <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500 border border-red-600"></span>
              <span>Cancelled</span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="error" class="text-red-600 mx-2 lg:mx-6">{{ error }}</div>
  <div class="mx-2 lg:mx-6 flex flex-col md:flex-row gap-6 min-h-[400px] max-w-full overflow-x-hidden">
    <!-- Vertical event list -->
    <div class="w-full md:w-1/4 max-w-xs min-w-0">
      <div class="bg-white rounded-2xl shadow-xl border-2 border-gray-200 overflow-hidden flex flex-col" style="height: auto; min-height: 540px; max-height: none;">
        <div class="px-6 py-3 border-b-4 flex-shrink-0"
             [ngClass]="isOsws ? 'bg-[#14532d] border-[#14532d]' : 'bg-[#679436] border-[#679436]'">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0">
              <i class="fas fa-calendar-alt text-white text-sm"></i>
            </div>
            <h2 class="text-lg font-bold text-white">Events</h2>
          </div>
        </div>
        <div class="px-4 py-3 bg-white flex gap-2 items-center border-b border-gray-200">
          <input
            type="text"
            [(ngModel)]="eventSearchTerm"
            (ngModelChange)="onEventSearch()"
            placeholder="Search events..."
            class="flex-1 px-3 py-2 rounded-lg border border-gray-300 text-black text-sm focus:outline-none focus:ring-2 focus:border-transparent"
            [ngClass]="isOsws ? 'focus:ring-[#14532d]' : 'focus:ring-[#679436]'"
            style="min-width:0;"
          />
        </div>
  <ul class="divide-y divide-gray-200 flex-1 min-h-[220px]" style="max-height: none; overflow-y: visible;">
            <li *ngFor="let event of pagedEvents; let i = index" class="hover:bg-gray-50 transition-colors duration-200 flex items-center">
            <span class="px-3 py-3 text-gray-400 font-bold"
              [ngClass]="selectedEvent && selectedEvent.event_id === event.event_id ? 'bg-gray-50' : ''"
            >{{ (eventPage - 1) * eventsPerPage + i + 1 }}.</span>
            <button
              class="flex-1 text-left px-2 py-3 font-semibold hover:underline focus:outline-none"
              [ngClass]="[
                isOsws ? 'text-[#14532d]' : 'text-[#679436]',
                selectedEvent && selectedEvent.event_id === event.event_id ? 'bg-gray-50' : '',
                'focus:bg-gray-50'
              ]"
              (click)="selectEvent(event)"
              [title]="event.title"
            >
              <span class="inline-flex items-center gap-2">
                <span class="truncate max-w-[14rem] md:max-w-[10rem] lg:max-w-[12rem] xl:max-w-[16rem]" [title]="event.title">{{ event.title }}</span>
                <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full border text-[10px] font-semibold"
                      [ngClass]="event.is_paid ? 'bg-amber-50 text-amber-800 border-amber-200' : 'bg-emerald-50 text-emerald-800 border-emerald-200'">
                  <i class="fas" [ngClass]="event.is_paid ? 'fa-coins' : 'fa-ticket-alt'"></i>
                  {{ event.is_paid ? 'Paid' : 'Free' }}
                </span>
              </span>
              <span *ngIf="event.status"
                    class="ml-2 inline-flex items-center"
                    [title]="(event.status || '') | titlecase"
                    [attr.aria-label]="'Status: ' + ((event.status || '') | titlecase)">
                <span class="relative flex h-3.5 w-3.5">
                  <span *ngIf="(event.status || '').toLowerCase() === 'ongoing'"
                        class="absolute inline-flex h-full w-full rounded-full opacity-60 animate-ping bg-blue-400"></span>
                  <span class="relative inline-flex rounded-full h-3.5 w-3.5 border"
                        [ngClass]="{
                          'bg-yellow-400 border-yellow-500': (event.status || '').toLowerCase() === 'not yet started',
                          'bg-blue-500 border-blue-600': (event.status || '').toLowerCase() === 'ongoing',
                          'bg-green-500 border-green-600': (event.status || '').toLowerCase() === 'concluded',
                          'bg-red-500 border-red-600': (event.status || '').toLowerCase() === 'cancelled'
                        }"></span>
                </span>
              </span>
            </button>
          </li>
          <li *ngIf="filteredEvents.length > eventsPerPage" class="px-3 py-2 bg-white border-t border-gray-200 flex justify-center items-center">
            <nav class="inline-flex space-x-1" aria-label="Pagination">
              <button
                class="w-9 h-9 flex items-center justify-center rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50"
                [disabled]="eventPage === 1"
                (click)="setEventPage(eventPage - 1)">
                <i class="fas fa-chevron-left"></i>
              </button>
              <ng-container *ngFor="let _ of [].constructor(totalEventPages); let i = index">
                <button
                  class="w-9 h-9 flex items-center justify-center rounded transition-colors duration-150"
                  [ngClass]="eventPage === (i + 1) ? 'bg-[#679436] text-white font-bold' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'"
                  [attr.aria-current]="eventPage === (i + 1) ? 'page' : null"
                  (click)="setEventPage(i + 1)">
                  {{ i + 1 }}
                </button>
              </ng-container>
              <button
                class="w-9 h-9 flex items-center justify-center rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50"
                [disabled]="eventPage === totalEventPages"
                (click)="setEventPage(eventPage + 1)">
                <i class="fas fa-chevron-right"></i>
              </button>
            </nav>
          </li>
          <li *ngIf="filteredEvents.length === 0" class="text-center py-6 text-gray-500 bg-gray-50 font-semibold">No events found.</li>
        </ul>
      </div>
    </div>
    <!-- Attendees table for selected event -->
    <div class="w-full md:flex-1 hidden md:block min-w-0">
      <div class="bg-white rounded-2xl shadow-xl border-2 border-gray-200 overflow-hidden">
        <ng-container *ngIf="selectedEvent; else selectEventMsg">
          <!-- Header -->
          <div class="px-6 py-3 border-b-4"
               [ngClass]="isOsws ? 'bg-[#14532d] border-[#14532d]' : 'bg-[#679436] border-[#679436]'">
            <div class="flex items-center justify-between gap-3">
              <div class="flex items-center gap-3 flex-1">
                <div class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0">
                  <i class="fas fa-users text-white text-sm"></i>
                </div>
                <div class="flex-1 min-w-0">
                  <h2 class="text-lg font-bold text-white truncate">{{ selectedEvent.title }}</h2>
                  <p class="text-white/80 text-xs mt-0.5">Attendance records</p>
                </div>
                <span class="inline-flex items-center gap-1 px-3 py-1.5 rounded-full border-2 text-xs font-semibold flex-shrink-0"
                      [ngClass]="selectedEvent.is_paid ? 'bg-amber-100 text-amber-800 border-amber-300' : 'bg-emerald-100 text-emerald-800 border-emerald-300'">
                  <i class="fas" [ngClass]="selectedEvent.is_paid ? 'fa-coins' : 'fa-ticket-alt'"></i>
                  {{ selectedEvent.is_paid ? 'Paid' : 'Free' }}
                </span>
              </div>
              <button
                (click)="selectedEvent = null; filteredRecords = []; searchTerm = ''"
                class="w-8 h-8 flex items-center justify-center rounded-full bg-white/20 hover:bg-white/30 text-white transition-colors duration-200 flex-shrink-0"
                title="Close"
                aria-label="Close attendance view">
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          
          <!-- Search and Actions -->
          <div class="p-6">
            <div class="flex flex-row gap-2 items-center mb-4">
              <div class="flex flex-row flex-wrap md:flex-nowrap gap-2 w-full">
                <input
                  type="text"
                  placeholder="Search by student name, ID, department, or program..."
                  class="flex-1 px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:border-transparent shadow-sm min-w-0"
                  [ngClass]="isOsws ? 'focus:ring-[#14532d]' : 'focus:ring-[#679436]'"
                  [(ngModel)]="searchTerm"
                  (ngModelChange)="onSearch()"
                  (keyup.enter)="onSearch()"
                />
                <button
                  class="text-white font-semibold px-6 py-3 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 h-[44px] w-auto"
                  [ngClass]="isOsws ? 'bg-[#14532d] hover:bg-[#166534]' : 'bg-[#679436] hover:bg-[#56732e]'"
                  (click)="onSearch()"
                  type="button"
                >
                  <i class="fas fa-search"></i>
                  <span>Search</span>
                </button>
                <button
                  *ngIf="searchTerm"
                  class="bg-white hover:bg-gray-50 text-gray-700 font-semibold px-4 py-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg border-2 border-gray-300 flex items-center justify-center gap-2 h-[44px] w-auto"
                  (click)="clearSearch()"
                  type="button"
                >
                  <i class="fas fa-times"></i>
                  <span>Clear</span>
                </button>
                <button
                  (click)="downloadExcel()"
                  class="bg-blue-600 hover:from-blue-700 hover:to-blue-800 text-white font-semibold px-4 sm:px-6 py-3 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 h-[44px] w-auto min-w-[44px] text-base whitespace-nowrap"
                  [disabled]="filteredRecords.length === 0"
                  type="button"
                >
                  <i class="fas fa-file-excel text-lg"></i>
                  <span class="hidden sm:inline">Download Excel</span>
                </button>
              </div>
            </div>
            <!-- Table -->
            <div class="overflow-x-auto shadow-sm">
              <ng-container *ngIf="filteredRecords.length > 0; else noAttendeesMsg">
                <table *ngIf="!error" class="w-full text-sm">
                  <thead
                         [ngClass]="isOsws ? 'bg-[#14532d]' : 'bg-[#679436]'">
                      <tr class="uppercase tracking-wider text-white">
                        <th class="px-3 py-3 text-center w-12">#</th>
                        <th class="px-3 py-3 text-center min-w-[100px]">Student ID</th>
                        <th class="px-3 py-3 text-left min-w-[180px]">Name</th>
                        <th class="px-3 py-3 text-center min-w-[100px]">Dept</th>
                        <th class="px-3 py-3 text-left min-w-[150px]">Program</th>
                        <th class="px-3 py-3 text-center min-w-[140px]">Time In</th>
                        <th class="px-3 py-3 text-center min-w-[140px]">Time Out</th>
                        <th class="px-3 py-3 text-left min-w-[160px]">Scanned By</th>
                        <th class="px-3 py-3 text-center min-w-[120px]">Position</th>
                      </tr>
                    </thead>
                    <tbody class="bg-white text-gray-800 divide-y divide-gray-200">
                      <tr *ngFor="let record of pagedRecords; let i = index" 
                          class="hover:bg-gray-50 transition-colors duration-200 even:bg-gray-50">
                        <td class="px-3 py-3 text-center font-semibold"
                            [ngClass]="isOsws ? 'text-[#14532d]' : 'text-[#679436]'">{{ (recordPage - 1) * recordsPerPage + i + 1 }}</td>
                        <td class="px-3 py-3 text-center whitespace-nowrap text-xs">{{ record.student_id || '-' }}</td>
                        <td class="px-3 py-3 text-left" [title]="formatName(record)">
                          <div class="line-clamp-2">{{ formatName(record) }}</div>
                        </td>
                        <td class="px-3 py-3 text-center" [title]="record.department">{{ record.department || '-' }}</td>
                        <td class="px-3 py-3 text-left" [title]="record.program">
                          <div class="line-clamp-2">{{ record.program || '-' }}</div>
                        </td>
                        <td class="px-3 py-3 text-center whitespace-nowrap text-xs">{{ formatDateTime(record.time_in || record.attended_at) }}</td>
                        <td class="px-3 py-3 text-center whitespace-nowrap text-xs">{{ formatDateTime(record.time_out) }}</td>
                        <td class="px-3 py-3 text-left" [title]="record.scanned_by">
                          <div class="line-clamp-2">{{ record.scanned_by || '-' }}</div>
                        </td>
                        <td class="px-3 py-3 text-center" [title]="record.scanned_by_position">
                          <div class="line-clamp-2">{{ record.scanned_by_position || '-' }}</div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </ng-container>
                <ng-template #noAttendeesMsg>
                  <div class="text-center py-10 text-gray-500 font-semibold bg-gray-50">No attendees found for this event.</div>
                </ng-template>
              </div>
              
              <!-- Pagination for records table -->
              <div *ngIf="filteredRecords.length > recordsPerPage" class="flex justify-center items-center py-4 border-t border-gray-200">
                <nav class="inline-flex space-x-1" aria-label="Pagination">
                  <button
                    class="w-9 h-9 flex items-center justify-center rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors duration-150"
                    [disabled]="recordPage === 1"
                    (click)="setRecordPage(recordPage - 1)">
                    <i class="fas fa-chevron-left"></i>
                  </button>
                  <ng-container *ngFor="let _ of [].constructor(totalRecordPages); let i = index">
                    <button
                      class="w-9 h-9 flex items-center justify-center rounded transition-colors duration-150"
                      [ngClass]="recordPage === (i + 1) ? 
                        (isOsws ? 'bg-[#14532d] text-white font-bold' : 'bg-[#679436] text-white font-bold') : 
                        'bg-gray-200 hover:bg-gray-300 text-gray-800'"
                      [attr.aria-current]="recordPage === (i + 1) ? 'page' : null"
                      (click)="setRecordPage(i + 1)">
                      {{ i + 1 }}
                    </button>
                  </ng-container>
                  <button
                    class="w-9 h-9 flex items-center justify-center rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors duration-150"
                    [disabled]="recordPage === totalRecordPages"
                    (click)="setRecordPage(recordPage + 1)">
                    <i class="fas fa-chevron-right"></i>
                  </button>
                </nav>
              </div>
          </div>
        </ng-container>
        <ng-template #selectEventMsg>
          <div class="p-20 text-center">
            <i class="fas fa-hand-pointer text-6xl text-gray-300 mb-4"></i>
            <p class="text-gray-500 text-lg font-semibold">Select an event to view attendees</p>
            <p class="text-gray-400 text-sm mt-2">Choose an event from the list on the left</p>
          </div>
        </ng-template>
      </div>
    </div>
  </div>



<!-- Mobile: modal for records table -->
<div *ngIf="selectedEvent && showMobileModal" class="fixed inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in md:hidden" style="z-index: 3000;">
  <div class="mobile-attendance-modal bg-white rounded-2xl shadow-2xl p-4 sm:p-6 w-full max-w-lg sm:max-w-3xl relative mx-2 sm:mx-0 animate-scale-in border-2"
    [ngClass]="isOsws ? 'border-[#14532d]' : 'border-[#679436]'"
    style="max-height: 92vh; overflow-y: auto;">
    <button (click)="showMobileModal = false" class="absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-red-100 text-gray-600 hover:text-red-600 transition-colors duration-200" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
    
    <!-- Modal Header -->
    <div class="mb-4 pr-8">
      <div class="flex items-center gap-3 mb-2">
        <div class="w-10 h-10 rounded-full flex items-center justify-center"
             [ngClass]="isOsws ? 'bg-[#14532d]' : 'bg-[#679436]'">
          <i class="fas fa-users text-white"></i>
        </div>
        <h2 class="text-xl sm:text-2xl font-bold"
            [ngClass]="isOsws ? 'text-[#14532d]' : 'text-[#679436]'">
          {{ selectedEvent.title }}
        </h2>
      </div>
      <div class="flex items-center gap-2 ml-13">
        <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full border-2 text-xs font-semibold"
              [ngClass]="selectedEvent?.is_paid ? 'bg-amber-100 text-amber-800 border-amber-300' : 'bg-emerald-100 text-emerald-800 border-emerald-300'">
          <i class="fas" [ngClass]="selectedEvent?.is_paid ? 'fa-coins' : 'fa-ticket-alt'"></i>
          {{ selectedEvent?.is_paid ? 'Paid' : 'Free' }}
        </span>
        <span class="text-gray-500 text-sm">Attendance Records</span>
      </div>
    </div>
    <!-- Modal Content -->
    <div class="space-y-4">
      <!-- Search and Actions -->
      <div class="flex flex-row gap-2 items-center">
        <div class="flex flex-row flex-wrap gap-2 w-full">
          <input
            type="text"
            placeholder="Search by student name or ID..."
            class="flex-1 px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:border-transparent shadow-sm min-w-0"
            [ngClass]="isOsws ? 'focus:ring-[#14532d]' : 'focus:ring-[#679436]'"
            [(ngModel)]="searchTerm"
            (ngModelChange)="onSearch()"
            (keyup.enter)="onSearch()"
          />
          <button
            class="text-white font-semibold px-6 py-3 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 h-[44px] w-auto"
            [ngClass]="isOsws ? 'bg-[#14532d] hover:bg-[#166534]' : 'bg-[#679436] hover:bg-[#56732e]'"
            (click)="onSearch()"
            type="button"
          >
            <i class="fas fa-search"></i>
            <span>Search</span>
          </button>
          <button
            *ngIf="searchTerm"
            class="bg-white hover:bg-gray-50 text-gray-700 font-semibold px-4 py-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg border-2 border-gray-300 flex items-center justify-center gap-2 h-[44px] w-auto"
            (click)="clearSearch()"
            type="button"
          >
            <i class="fas fa-times"></i>
            <span>Clear</span>
          </button>
          <button
            (click)="downloadExcel()"
            class="bg-blue-600 hover:from-blue-700 hover:to-blue-800 text-white font-semibold px-4 sm:px-6 py-3 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 h-[44px] w-auto min-w-[44px] text-base whitespace-nowrap"
            [disabled]="filteredRecords.length === 0"
            type="button"
          >
            <i class="fas fa-file-excel text-lg"></i>
            <span class="hidden sm:inline">Download</span>
          </button>
        </div>
      </div>
      <!-- Table -->
      <div class="overflow-x-auto rounded-lg border-2 border-gray-200 shadow-sm">
        <ng-container *ngIf="filteredRecords.length > 0; else noAttendeesMobileMsg">
          <table *ngIf="!error" class="w-full text-sm">
            <thead
                   [ngClass]="isOsws ? 'bg-[#14532d]' : 'bg-[#679436]'">
              <tr class="uppercase tracking-wider text-white">
                <th class="px-3 py-3 text-center w-12">#</th>
                <th class="px-3 py-3 text-center min-w-[100px]">Student ID</th>
                <th class="px-3 py-3 text-left min-w-[180px]">Name</th>
                <th class="px-3 py-3 text-center min-w-[100px]">Dept</th>
                <th class="px-3 py-3 text-left min-w-[150px]">Program</th>
                <th class="px-3 py-3 text-center min-w-[140px]">Time In</th>
                <th class="px-3 py-3 text-center min-w-[140px]">Time Out</th>
                <th class="px-3 py-3 text-left min-w-[160px]">Scanned By</th>
                <th class="px-3 py-3 text-center min-w-[120px]">Position</th>
              </tr>
            </thead>
            <tbody class="bg-white text-gray-800 divide-y divide-gray-200">
              <tr *ngFor="let record of pagedRecords; let i = index" 
                  class="hover:bg-gray-50 transition-colors duration-200 even:bg-gray-50">
                <td class="px-3 py-3 text-center font-semibold"
                    [ngClass]="isOsws ? 'text-[#14532d]' : 'text-[#679436]'">{{ (recordPage - 1) * recordsPerPage + i + 1 }}</td>
                <td class="px-3 py-3 text-center whitespace-nowrap text-xs">{{ record.student_id || '-' }}</td>
                <td class="px-3 py-3 text-left" [title]="formatName(record)">
                  <div class="line-clamp-2">{{ formatName(record) }}</div>
                </td>
                <td class="px-3 py-3 text-center" [title]="record.department">{{ record.department || '-' }}</td>
                <td class="px-3 py-3 text-left" [title]="record.program">
                  <div class="line-clamp-2">{{ record.program || '-' }}</div>
                </td>
                <td class="px-3 py-3 text-center whitespace-nowrap text-xs">{{ formatDateTime(record.time_in || record.attended_at) }}</td>
                <td class="px-3 py-3 text-center whitespace-nowrap text-xs">{{ formatDateTime(record.time_out) }}</td>
                <td class="px-3 py-3 text-left" [title]="record.scanned_by">
                  <div class="line-clamp-2">{{ record.scanned_by || '-' }}</div>
                </td>
                <td class="px-3 py-3 text-center" [title]="record.scanned_by_position">
                  <div class="line-clamp-2">{{ record.scanned_by_position || '-' }}</div>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-container>
        <ng-template #noAttendeesMobileMsg>
          <div class="text-center py-10 text-gray-500 font-semibold bg-gray-50">No attendees found for this event.</div>
        </ng-template>
      </div>
      
      <!-- Pagination -->
      <div *ngIf="filteredRecords.length > recordsPerPage" class="flex justify-center items-center mt-4">
        <nav class="inline-flex space-x-1" aria-label="Pagination">
          <button
            class="w-9 h-9 flex items-center justify-center rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors duration-150"
            [disabled]="recordPage === 1"
            (click)="setRecordPage(recordPage - 1)">
            <i class="fas fa-chevron-left"></i>
          </button>
          <ng-container *ngFor="let _ of [].constructor(totalRecordPages); let i = index">
            <button
              class="w-9 h-9 flex items-center justify-center rounded transition-colors duration-150"
              [ngClass]="recordPage === (i + 1) ? 
                (isOsws ? 'bg-[#14532d] text-white font-bold' : 'bg-[#679436] text-white font-bold') : 
                'bg-gray-200 hover:bg-gray-300 text-gray-800'"
              [attr.aria-current]="recordPage === (i + 1) ? 'page' : null"
              (click)="setRecordPage(i + 1)">
              {{ i + 1 }}
            </button>
          </ng-container>
          <button
            class="w-9 h-9 flex items-center justify-center rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors duration-150"
            [disabled]="recordPage === totalRecordPages"
            (click)="setRecordPage(recordPage + 1)">
            <i class="fas fa-chevron-right"></i>
          </button>
        </nav>
      </div>
    </div>
  </div>
</div>

