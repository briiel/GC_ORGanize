<div class="min-h-screen flex flex-col items-center justify-center bg-gray-100">
  <div class="bg-white rounded-lg shadow-lg p-8 w-full max-w-md">
    <h2 class="text-2xl font-bold mb-4" [ngClass]="isOsws ? 'text-[#14532d]' : 'text-[#679436]'">Scan QR for Attendance</h2>

    <!-- Camera controls -->
    <div class="flex items-center gap-2 mb-3" *ngIf="cameras.length > 0">
  <select class="border rounded px-2 py-1 flex-1" [ngModel]="selectedCameraId" (ngModelChange)="onCameraChange($event)">
        <option *ngFor="let c of cameras" [value]="c.id">{{ c.label || 'Camera' }}</option>
      </select>
  <button class="text-white px-3 py-1 rounded-lg transition" [ngClass]="isOsws ? 'bg-[#14532d] hover:bg-[#166534]' : 'bg-[#679436] hover:bg-[#56732e]'" (click)="switchCamera()">Switch</button>
    </div>

    <div id="qr-reader" style="width: 100%; min-height: 240px; background:#f8fafc; display:block;"></div>

    <!-- Status/Error -->
    <p class="text-sm text-gray-600 mt-3" *ngIf="message">{{ message }}</p>

    <div class="flex gap-2 mt-4">
      <button class="text-white px-4 py-2 rounded-lg transition" [ngClass]="isOsws ? 'bg-[#14532d] hover:bg-[#166534]' : 'bg-[#679436] hover:bg-[#56732e]'" (click)="retry()" *ngIf="!isRunning">Start Scanner</button>
      <button class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition" (click)="stopScanner()" *ngIf="isRunning">Stop</button>
    </div>
  </div>
</div>
